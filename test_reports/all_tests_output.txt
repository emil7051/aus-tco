============================= test session starts ==============================
collecting ... collected 145 items

tests/integration/test_calculator.py::TestTCOCalculator::test_calculate_bet_scenario PASSED [  0%]
tests/integration/test_calculator.py::TestTCOCalculator::test_calculate_diesel_scenario PASSED [  1%]
tests/integration/test_calculator.py::TestTCOCalculator::test_compare_results PASSED [  2%]
tests/integration/test_calculator.py::TestTCOCalculatorEdgeCases::test_zero_values_scenario PASSED [  2%]
tests/integration/test_calculator.py::TestTCOCalculatorEdgeCases::test_high_usage_scenario PASSED [  3%]
tests/integration/test_calculator.py::TestTCOCalculatorEdgeCases::test_low_usage_scenario PASSED [  4%]
tests/integration/test_complete_integration.py::TestEnvironmentalIntegration::test_emissions_data_integration PASSED [  4%]
tests/integration/test_complete_integration.py::TestEnvironmentalIntegration::test_energy_efficiency_chart PASSED [  5%]
tests/integration/test_complete_integration.py::TestEnvironmentalIntegration::test_sustainability_metrics_integration PASSED [  6%]
tests/integration/test_complete_integration.py::TestSensitivityAnalysisIntegration::test_parameter_impact_analysis PASSED [  6%]
tests/integration/test_complete_integration.py::TestSensitivityAnalysisIntegration::test_tipping_point_calculation PASSED [  7%]
tests/integration/test_complete_integration.py::TestExportFunctionality::test_excel_export_with_all_data PASSED [  8%]
tests/integration/test_complete_integration.py::TestFullIntegrationWorkflow::test_complete_integration_workflow PASSED [  8%]
tests/integration/test_payback.py::TestPaybackCalculation::test_simple_payback_calculation PASSED [  9%]
tests/integration/test_payback.py::TestPaybackCalculation::test_no_payback_scenario PASSED [ 10%]
tests/integration/test_payback.py::TestPaybackCalculation::test_immediate_payback_scenario PASSED [ 11%]
tests/integration/test_ui_integration.py::TestNavigationIntegration::test_navigation_state_persistence PASSED [ 11%]
tests/integration/test_ui_integration.py::TestNavigationIntegration::test_step_based_ui_rendering PASSED [ 12%]
tests/integration/test_ui_integration.py::TestFormValidationIntegration::test_vehicle_parameter_validation PASSED [ 13%]
tests/integration/test_ui_integration.py::TestFormValidationIntegration::test_input_validation_feedback PASSED [ 13%]
tests/integration/test_ui_integration.py::TestThemeIntegration::test_theme_application_to_components PASSED [ 14%]
tests/integration/test_ui_integration.py::TestSideBySideLayoutIntegration::test_switching_layout_modes FAILED [ 15%]
tests/integration/test_ui_integration.py::TestResultsIntegration::test_dashboard_integration FAILED [ 15%]
tests/integration/test_ui_integration.py::TestResultsIntegration::test_environmental_dashboard_integration FAILED [ 16%]
tests/integration/test_ui_integration.py::TestEndToEndWorkflow::test_full_calculation_workflow FAILED [ 17%]
tests/integration/test_ui_integration.py::TestEndToEndWorkflow::test_configuration_persistence PASSED [ 17%]
tests/test_ui_integration.py::test_metrics_panel_integration FAILED      [ 18%]
tests/unit/test_bet_energy.py::TestBETEnergyConsumptionStrategy::test_electricity_price_affects_costs FAILED [ 19%]
tests/unit/test_comparison.py::TestComparisonFunctionality::test_compare_results PASSED [ 20%]
tests/unit/test_comparison.py::TestComparisonFunctionality::test_comparison_result_creation PASSED [ 20%]
tests/unit/test_comparison.py::TestComparisonFunctionality::test_deprecated_field_access_in_comparison PASSED [ 21%]
tests/unit/test_costs.py::TestAcquisitionCosts::test_acquisition_costs_cash_purchase PASSED [ 22%]
tests/unit/test_costs.py::TestAcquisitionCosts::test_acquisition_costs_loan_purchase PASSED [ 22%]
tests/unit/test_costs.py::TestEnergyCosts::test_energy_costs_bet PASSED  [ 23%]
tests/unit/test_costs.py::TestEnergyCosts::test_energy_costs_diesel PASSED [ 24%]
tests/unit/test_costs.py::TestEnergyCosts::test_energy_costs_with_load_adjustment PASSED [ 24%]
tests/unit/test_costs.py::TestEnergyCosts::test_energy_costs_diesel_with_adblue PASSED [ 25%]
tests/unit/test_costs.py::TestMaintenanceCosts::test_maintenance_costs_basic PASSED [ 26%]
tests/unit/test_costs.py::TestMaintenanceCosts::test_maintenance_costs_with_inflation PASSED [ 26%]
tests/unit/test_costs.py::TestMaintenanceCosts::test_maintenance_costs_diesel_with_emissions PASSED [ 27%]
tests/unit/test_costs.py::TestInfrastructureCosts::test_bet_infrastructure_costs_year_0 PASSED [ 28%]
tests/unit/test_costs.py::TestInfrastructureCosts::test_bet_infrastructure_costs_subsequent_years PASSED [ 28%]
tests/unit/test_costs.py::TestInfrastructureCosts::test_diesel_infrastructure_costs PASSED [ 29%]
tests/unit/test_costs.py::TestBatteryReplacementCosts::test_diesel_battery_replacement_costs PASSED [ 30%]
tests/unit/test_costs.py::TestBatteryReplacementCosts::test_bet_no_replacement_needed PASSED [ 31%]
tests/unit/test_costs.py::TestBatteryReplacementCosts::test_bet_replacement_needed PASSED [ 31%]
tests/unit/test_costs.py::TestInsuranceRegistrationCosts::test_insurance_registration_costs_bet_year_0 PASSED [ 32%]
tests/unit/test_costs.py::TestInsuranceRegistrationCosts::test_insurance_registration_costs_diesel_year_0 PASSED [ 33%]
tests/unit/test_costs.py::TestInsuranceRegistrationCosts::test_insurance_registration_costs_with_depreciation PASSED [ 33%]
tests/unit/test_costs.py::TestTaxesLevies::test_carbon_tax_diesel PASSED [ 34%]
tests/unit/test_costs.py::TestTaxesLevies::test_road_user_charges_bet PASSED [ 35%]
tests/unit/test_costs.py::TestTaxesLevies::test_no_carbon_tax PASSED     [ 35%]
tests/unit/test_costs.py::TestResidualValue::test_residual_value_final_year_only PASSED [ 36%]
tests/unit/test_costs.py::TestResidualValue::test_residual_value_with_model PASSED [ 37%]
tests/unit/test_costs.py::TestResidualValue::test_residual_value_fallback_calculation PASSED [ 37%]
tests/unit/test_costs.py::TestResidualValue::test_residual_value_diesel_fallback PASSED [ 38%]
tests/unit/test_costs.py::TestEdgeCases::test_zero_values_scenario PASSED [ 39%]
tests/unit/test_costs.py::TestEdgeCases::test_high_usage_scenario PASSED [ 40%]
tests/unit/test_models.py::TestVehicleParametersValidation::test_bet_parameters_valid PASSED [ 40%]
tests/unit/test_models.py::TestVehicleParametersValidation::test_diesel_parameters_valid PASSED [ 41%]
tests/unit/test_models.py::TestVehicleParametersValidation::test_bet_parameters_invalid_type PASSED [ 42%]
tests/unit/test_models.py::TestVehicleParametersValidation::test_bet_parameters_negative_price PASSED [ 42%]
tests/unit/test_models.py::TestVehicleParametersValidation::test_battery_parameters_validation PASSED [ 43%]
tests/unit/test_models.py::TestEconomicParametersValidation::test_economic_parameters_valid PASSED [ 44%]
tests/unit/test_models.py::TestEconomicParametersValidation::test_negative_rates PASSED [ 44%]
tests/unit/test_models.py::TestEconomicParametersValidation::test_financing_parameters_validation PASSED [ 45%]
tests/unit/test_models.py::TestOperationalParametersValidation::test_operational_parameters_valid PASSED [ 46%]
tests/unit/test_models.py::TestOperationalParametersValidation::test_negative_annual_distance PASSED [ 46%]
tests/unit/test_models.py::TestOperationalParametersValidation::test_invalid_operating_days PASSED [ 47%]
tests/unit/test_models.py::TestOperationalParametersValidation::test_utilization_range PASSED [ 48%]
tests/unit/test_models.py::TestScenarioValidation::test_valid_bet_scenario PASSED [ 48%]
tests/unit/test_models.py::TestScenarioValidation::test_valid_diesel_scenario PASSED [ 49%]
tests/unit/test_models.py::TestScenarioValidation::test_mix_vehicle_type_compatibility PASSED [ 50%]
tests/unit/test_results_visualization.py::TestDashboardComponents::test_cost_breakdown_chart FAILED [ 51%]
tests/unit/test_results_visualization.py::TestDashboardComponents::test_cumulative_cost_chart FAILED [ 51%]
tests/unit/test_results_visualization.py::TestDashboardComponents::test_lcod_comparison_chart FAILED [ 52%]
tests/unit/test_results_visualization.py::TestEnvironmentalVisualization::test_emissions_timeline_chart FAILED [ 53%]
tests/unit/test_results_visualization.py::TestEnvironmentalVisualization::test_environmental_equivalence_chart FAILED [ 53%]
tests/unit/test_results_visualization.py::TestEnvironmentalVisualization::test_emissions_per_km_chart FAILED [ 54%]
tests/unit/test_results_visualization.py::TestInvestmentAnalysisVisualizations::test_payback_period_chart FAILED [ 55%]
tests/unit/test_results_visualization.py::TestInvestmentAnalysisVisualizations::test_roi_visualization FAILED [ 55%]
tests/unit/test_results_visualization.py::TestSideBySideLayout::test_create_comparison_view FAILED [ 56%]
tests/unit/test_results_visualization.py::TestSideBySideLayout::test_live_preview_component FAILED [ 57%]
tests/unit/test_results_visualization.py::TestResultsExport::test_excel_export_customization FAILED [ 57%]
tests/unit/test_results_visualization.py::TestResultsExport::test_chart_image_export FAILED [ 58%]
tests/unit/test_strategies.py::TestStrategyPattern::test_strategy_factory_registration PASSED [ 59%]
tests/unit/test_strategies.py::TestStrategyPattern::test_strategy_fallback PASSED [ 60%]
tests/unit/test_strategies.py::TestStrategyPattern::test_energy_consumption_strategy PASSED [ 60%]
tests/unit/test_tco_extensions.py::TestEmissionsCalculation::test_bet_emissions PASSED [ 61%]
tests/unit/test_tco_extensions.py::TestEmissionsCalculation::test_diesel_emissions PASSED [ 62%]
tests/unit/test_tco_extensions.py::TestEmissionsCalculation::test_bet_vs_diesel_emissions PASSED [ 62%]
tests/unit/test_tco_extensions.py::TestInvestmentAnalysis::test_investment_analysis_calculation PASSED [ 63%]
tests/unit/test_tco_extensions.py::TestInvestmentAnalysis::test_no_payback_investment PASSED [ 64%]
tests/unit/test_tco_extensions.py::TestComponentBreakdown::test_component_value_access PASSED [ 64%]
tests/unit/test_tco_extensions.py::TestComponentBreakdown::test_component_breakdown_calculation PASSED [ 65%]
tests/unit/test_tco_extensions.py::TestSensitivityAnalysis::test_single_parameter_sensitivity PASSED [ 66%]
tests/unit/test_tco_extensions.py::TestSensitivityAnalysis::test_multiple_parameter_sensitivity PASSED [ 66%]
tests/unit/test_tco_extensions.py::TestSensitivityAnalysis::test_parameter_impact_with_tipping_point PASSED [ 67%]
tests/unit/test_tco_extensions.py::TestResultsExport::test_excel_export_generation PASSED [ 68%]
tests/unit/test_tco_extensions.py::TestResultsExport::test_export_with_emissions_data PASSED [ 68%]
tests/unit/test_tco_extensions.py::TestResultsExport::test_export_with_investment_analysis PASSED [ 69%]
tests/unit/test_tco_extensions.py::TestCompleteIntegration::test_environmental_integration PASSED [ 70%]
tests/unit/test_tco_extensions.py::TestCompleteIntegration::test_live_preview_integration PASSED [ 71%]
tests/unit/test_tco_extensions.py::TestCompleteIntegration::test_complete_workflow PASSED [ 71%]
tests/unit/test_terminology.py::TestFieldRenaming::test_deprecated_field_access PASSED [ 72%]
tests/unit/test_terminology.py::TestFieldRenaming::test_component_differences_property PASSED [ 73%]
tests/unit/test_terminology.py::TestAnnualCostsCollection::test_list_access PASSED [ 73%]
tests/unit/test_terminology.py::TestAnnualCostsCollection::test_attribute_access PASSED [ 74%]
tests/unit/test_terminology.py::TestAnnualCostsCollection::test_component_value_access PASSED [ 75%]
tests/unit/test_terminology.py::TestUtilityFunctions::test_get_component_value PASSED [ 75%]
tests/unit/test_terminology.py::TestUtilityFunctions::test_calculate_cost_difference PASSED [ 76%]
tests/unit/test_ui_components.py::TestTerminologyFunctions::test_component_labels PASSED [ 77%]
tests/unit/test_ui_components.py::TestTerminologyFunctions::test_vehicle_type_labels PASSED [ 77%]
tests/unit/test_ui_components.py::TestTerminologyFunctions::test_formatting_functions PASSED [ 78%]
tests/unit/test_ui_components.py::TestUIComponentFactory::test_create_card PASSED [ 79%]
tests/unit/test_ui_components.py::TestUIComponentFactory::test_create_button PASSED [ 80%]
tests/unit/test_ui_components.py::TestUIComponentFactory::test_create_form_field PASSED [ 80%]
tests/unit/test_ui_components.py::TestUIComponentFactory::test_create_tooltip PASSED [ 81%]
tests/unit/test_ui_components.py::TestCSSLoader::test_load_css_resources PASSED [ 82%]
tests/unit/test_ui_components.py::TestCSSLoader::test_get_css_class PASSED [ 82%]
tests/unit/test_ui_components.py::TestThemeSwitching::test_get_theme_css PASSED [ 83%]
tests/unit/test_ui_components.py::TestThemeSwitching::test_switch_theme PASSED [ 84%]
tests/unit/test_ui_components.py::TestResponsiveLayout::test_responsive_card_layout PASSED [ 84%]
tests/unit/test_ui_components.py::TestResponsiveLayout::test_layout_mode_switching PASSED [ 85%]
tests/unit/test_ui_components.py::TestNavigation::test_navigation_state PASSED [ 86%]
tests/unit/test_ui_components.py::TestNavigation::test_progressive_disclosure PASSED [ 86%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_vehicle_parameters_bet PASSED [ 87%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_vehicle_parameters_diesel PASSED [ 88%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_vehicle_parameters_unsupported PASSED [ 88%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_bet_parameters PASSED [ 89%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_bet_parameters_default PASSED [ 90%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_get_diesel_parameters PASSED [ 91%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_list_available_vehicle_configurations PASSED [ 91%]
tests/unit/test_vehicles.py::TestVehicleParameterLoading::test_list_available_vehicle_configurations_invalid_yaml PASSED [ 92%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_basic_initialization PASSED [ 93%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_get_exact_year PASSED [ 93%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_interpolation_scalar_values PASSED [ 94%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_interpolation_with_list_values PASSED [ 95%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_interpolation_with_tuple_values PASSED [ 95%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_extrapolation_before_earliest_year PASSED [ 96%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_extrapolation_after_latest_year PASSED [ 97%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_no_interpolation_mode PASSED [ 97%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_different_value_types_error PASSED [ 98%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_different_length_values_error PASSED [ 99%]
tests/unit/test_yearly_value.py::TestYearlyValue::test_complex_yearly_data PASSED [100%]

================= 18 failed, 127 passed, 78 warnings in 4.54s ==================
